/* CRIA A TABELA DE EQUIPAMENTOS */
CREATE TABLE Equipamento (
    IdEquipamento SERIAL PRIMARY KEY,
    Nome_equipamento VARCHAR(100),
    Descricao TEXT,
    Status VARCHAR(50),
    Tipo_equipamento VARCHAR(50)
);

/* CRIA A TABELA DE TÉCNICOS */
CREATE TABLE Tecnico (
    IdTecnico SERIAL PRIMARY KEY,
    Nome VARCHAR(100),
    Especialidade VARCHAR(100),
    Contato VARCHAR(100)
);

/* CRIA A TABELA DE MANUTENÇÃO */
CREATE TABLE Manutencao (
    IdManutencao SERIAL PRIMARY KEY,
    IdEquipamento INT,
    IdTecnico INT,
    Tipo_manutencao VARCHAR(50),
    Descricao TEXT,
    Status_manutencao VARCHAR(50),
    FOREIGN KEY (IdEquipamento) REFERENCES Equipamento(IdEquipamento),
    FOREIGN KEY (IdTecnico) REFERENCES Tecnico(IdTecnico)
);

/* CRIA A TABELA DE PEÇAS */
CREATE TABLE Peca (
    IdPeca SERIAL PRIMARY KEY,
    Nome VARCHAR(100),
    Descricao TEXT,
    Quantidade_estoque INT,
    Custo_unitario DECIMAL(10,2)
);

/* CRIA A TABELA DE HISTÓRICO PREVENTIVO */
CREATE TABLE Historico (
    IdHistorico SERIAL PRIMARY KEY,
    IdEquipamento INT,
    Tipo_manutencao VARCHAR(50),
    data_ultimo_servico DATE,
    data_proximo_servico DATE,
    FOREIGN KEY (IdEquipamento) REFERENCES Equipamento(IdEquipamento)
);

/* CRIA A TABELA DE REGISTRO DE FALHAS */
CREATE TABLE Falha (
    IdFalha SERIAL PRIMARY KEY,
    IdEquipamento INT,
    Descricao_falha TEXT,
    Data_falha DATE,
    Status VARCHAR(50),
    FOREIGN KEY (IdEquipamento) REFERENCES Equipamento(IdEquipamento)
);

/* CRIA A TABELA DE ORÇAMENTOS */
CREATE TABLE Orcamento (
    IdOrcamento SERIAL PRIMARY KEY,
    IdManutencao INT,
    Descricao TEXT,
    Valor_total DECIMAL(10,2),
    Data_orcamento DATE,
    FOREIGN KEY (IdManutencao) REFERENCES Manutencao(IdManutencao)
);

/* CRIA A TABELA DE FORNECEDORES */
CREATE TABLE Fornecedor (
    IdFornecedor SERIAL PRIMARY KEY,
    Nome VARCHAR(100),
    CNPJ VARCHAR(20),
    Contato VARCHAR(100)
);
